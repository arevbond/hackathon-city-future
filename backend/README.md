‚úÖ **–ö–ª–∏–µ–Ω—Ç** ‚Äî –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–µ–π –∑–∞—è–≤–∫–µ (—á–µ—Ä–µ–∑ e-mail).    
‚úÖ **–ú–µ–Ω–µ–¥–∂–µ—Ä—ã** ‚Äî –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º (–∑–∞—è–≤–∫–∏, –æ—Ç—á—ë—Ç—ã, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–µ—Ö. —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ —Ç.–¥.).

–ù–∏–∂–µ ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å —É—á—ë—Ç–æ–º —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–∞:

---

## üìå –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ API:

---

### (+) **POST /login**

* **–î–ª—è:** –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–∏/–∏–ª–∏ —Ç–µ—Ö. —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤).
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
* **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:**

  ```json
  {
    "email": "manager@example.com",
    "password": "password123"
  }
  ```
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

  ```json
  {
    "token": "jwt-token",
    "user": {
      "id": 2,
      "name": "–ê–ª–µ–∫—Å–µ–π",
      "role": "manager"
    }
  }
  ```

---

### (+) **POST /requests.**

* **–î–ª—è:** –ö–ª–∏–µ–Ω—Ç–æ–≤.
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É.
* **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:**

  ```json
  {
    "client_name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "client_email": "ivan@example.com",
    "title": "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ CRM",
    "description": "–ù—É–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å CRM —Å–∏—Å—Ç–µ–º—É –¥–ª—è –æ—Ç–¥–µ–ª–∞ –ø—Ä–æ–¥–∞–∂."
  }
  ```
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

  ```json
  {
    "id": 1,
    "status": "new"
  }
  ```

---

### (+) **GET /requests?status=...** 

* **–î–ª—è:** –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤.
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—è–≤–æ–∫.
* **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

    * `status` ‚Äî —Ñ–∏–ª—å—Ç—Ä (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º) –ø–æ —Å—Ç–∞—Ç—É—Å—É ("", "new", "new, "in_progress", "completed").
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

  ```json
  {
  "requests": [
    {"id": 1, "client_name": "...", "title": "...", "status": "new"},
    {"id": 2, "client_name": "...", "title": "...", "status": "in_progress"}
  ]
  }
  ```

---

### (+) **GET /requests/{id}**

* **–î–ª—è:**

    * **–ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤** ‚Äî –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∑–∞—è–≤–∫–∞–º.
    * **–ö–ª–∏–µ–Ω—Ç–æ–≤** ‚Äî –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Å–≤–æ–µ–π –∑–∞—è–≤–∫–µ (—á–µ—Ä–µ–∑ email-–ø—Ä–æ–≤–µ—Ä–∫—É).
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –∑–∞—è–≤–∫–∏.
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

  ```json
  {
    "id": 1,
    "client_name": "...",
    "description": "...",
    "status": "...",
    "comments": [...]
  }
  ```

---

### üë®‚Äçüíª **POST /requests/{id}/assign-tech**

* **–î–ª—è:** –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤.
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –Ω–∞ –∑–∞—è–≤–∫—É.
* **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:**

  ```json
  {
    "tech_user_id": 5
  }
  ```
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `{ "success": true }`

---

### üìù **POST /tech-reports**

* **–î–ª—è:** –¢–µ—Ö. —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞—ë—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –¥–ª—è –∑–∞—è–≤–∫–∏.
* **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:**

  ```json
  {
    "request_id": 1,
    "report": "–û—Ü–µ–Ω–∫–∞ —Å—Ä–æ–∫–æ–≤: 3 –º–µ—Å—è—Ü–∞."
  }
  ```
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `{ "id": 1, "created_at": "..." }`

---

### üîÑ **PATCH /requests/{id}**

* **–î–ª—è:** –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤.
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –∏–ª–∏ –ø—É–±–ª–∏–∫—É–µ—Ç –∑–∞–º–µ—Ç–∫—É –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞.
* **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:**

  ```json
  {
    "status": "in_progress",
    "public_note": "–í–∑—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É"
  }
  ```
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `{ "success": true }`

---

### üí¨ **POST /comments**

* **–î–ª—è:** –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é).
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞—è–≤–∫–µ.
* **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç:**

  ```json
  {
    "request_id": 1,
    "user_id": 2,
    "content": "–ú—ã –Ω–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç—É."
  }
  ```
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** `{ "id": 1, "created_at": "..." }`

---

### üë• **GET /users**

* **–î–ª—è:** –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤.
* **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–µ—Ö. —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤).
* **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

  ```json
  [
    {"id": 2, "name": "–ê–ª–µ–∫—Å–µ–π", "role": "tech"}
  ]
  ```


### ‚ö°Ô∏è –î–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ API:

–ú–µ—Ç–æ–¥	–ü—É—Ç—å	–†–æ–ª—å	–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
POST /api/requests/{id}/project_team	–º–µ–Ω–µ–¥–∂–µ—Ä	–î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–µ –∏ —Å—Ç–µ–∫
GET /api/requests/{id}/project_team

---

## ‚ú® –ü–æ—è—Å–Ω–µ–Ω–∏—è –ø–æ –¥–æ—Å—Ç—É–ø—É:

* üîë **JWT-—Ç–æ–∫–µ–Ω** ‚Äî –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ (–¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –∏ —Ç–µ—Ö–Ω–∏–∫–æ–≤).
* üìß **–ö–ª–∏–µ–Ω—Ç—ã** –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å `POST /requests` (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏) –∏ `GET /requests/{id}` (–ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–π –∑–∞—è–≤–∫–∏).

    * –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `client_email` –≤ –∑–∞—è–≤–∫–µ –∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω, –µ—Å–ª–∏ –µ—Å—Ç—å –≤—Ä–µ–º—è.
* üë®‚Äçüíº **–ú–µ–Ω–µ–¥–∂–µ—Ä—ã** –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º.
* üë®‚Äçüîß **–¢–µ—Ö. —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã** –º–æ–≥—É—Ç:

    * `POST /tech-reports` ‚Äî –¥–æ–±–∞–≤–ª—è—Ç—å –æ—Ç—á—ë—Ç—ã.
    * (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –∑–∞—è–≤–∫–∏, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –º–æ–≥—É –µ—â—ë —Ä–∞—Å–ø–∏—Å–∞—Ç—å –∫–∞–∫–∏–µ middleware –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–æ–ª–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ Go! üòâ
